{% extends 'store/main.html' %} {% block content %}
    <style>
        .qr-code-container {
            display: none;
            text-align: center;
            margin-top: 1.5rem;
        }
        .qr-code-img {
            max-width: 200px;
            border: 1px solid #dee2e6;
            border-radius: 0.25rem;
        }
    </style>
    <div class="container mt-4">
        <h3 class="mb-3 text-center">Select Payment Option</h3>
        <form method="post" class="col-md-6 mx-auto">
            {% csrf_token %}
            <div class="mb-3">
                {{ form.payment_method.label_tag }}
                {{ form.payment_method }}
            </div>
            <div id="qrCodeContainer" class="qr-code-container">
                <h5>Scan to Pay</h5>
                <img id="qrCodeImage" src="data:image/png;base64,{{ qr_code }}" alt="Bank Transfer QR Code" class="qr-code-img">
            </div>
        </form>
    </div>

    <script>
        function toggleQRCode() {
            const paymentMethod = document.getElementById('paymentMethod').value;
            const qrCodeContainer = document.getElementById('qrCodeContainer');
            qrCodeContainer.style.display = paymentMethod === 'bank_transfer' ? 'block' : 'none';
        }
        document.addEventListener('DOMContentLoaded', toggleQRCode);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}